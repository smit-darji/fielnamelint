name: folder
on: push

jobs:  
  listFiles: # Job that list  files
    runs-on: ubuntu-latest
    outputs:
      pyfiles: ${{ steps.set-py-files.outputs.pyfiles }} # generate output name python files by using inner step output
    steps:
      - name: Clone Repo
        uses: actions/checkout@v2


      - name: Set listFiles output variable
        id: set-py-files # Give it an id to handle to get step outputs in the outputs key above
        run: echo "::set-output name=pyfiles::$(git diff --name-only HEAD~10 HEAD~5)"
        # Define step output named pyfiles base on git diff command to find comma saperated relative paths of commited python files
      
      - name: Print files to be scanned
        run: echo ${{steps.set-py-files.outputs.pyfiles}}































# name: 'folder-test'
# on: # rebuild any PRs and main branch changes
#   pull_request:
#   push:
#     branches:
#       - 'Master'

# jobs:
#   build:
#     runs-on: ubuntu-latest  # windows-latest | macos-latest
#     name: Test changed-files
#     steps:
#       - uses: actions/checkout@v3
#         with:
#           fetch-depth: 0  # OR "2" -> To retrieve the preceding commit.


#       - name: Get changed files
#         id: changed-files
#         uses: tj-actions/changed-files@v26.1

#       - name: List all changed files
#         run: |
#           for file in ${{ steps.changed-files.outputs.all_changed_files }}; do
#             echo "$file was changed"
#           done
      


